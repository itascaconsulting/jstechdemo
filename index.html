<p id="paragraph"></p>

<script type="text/javascript"
src="./math.js"></script>
<script>


function write_line(data) {
    var h1 = document.createElement("div");
    h1.setAttribute('style', 'white-space: pre;');
    h1.textContent += data + "\r\n";
    document.body.appendChild(h1);
}

A = 201e-6;
E = 1.4e11;
slen = 0.1;
Kbond = 8;
Sbond = 2.8e5;
n = 10;
Yield = 180e3;
Rupture = 0.2;
ds = 1e7;
dy = 62.8e3;
dr = 0.41;
theta = 40.0;
disp = 4e-3;

c1 = E*A/slen
c2 = Kbond*slen
c3 = Sbond*slen
c2i = math.multiply(math.ones(n), c2); console.log(c2i);
ab = math.matrix();
ab.resize([n,n]);
//ab = math.sparsematrix();
console.log(ab);
b = math.matrix();
b.resize([n]);
console.log(b);

db0 = 0.0;
db1 = disp;

for(i = 0; i < n; i++) {
    if (i > Math.floor(n/2-1)) {
        b.set([i], -db1*c2i.get([i]));
    } else {
        b.set([i], 0.0);
    }
    ab.set([i, i], -c1-c2i.get([i]));
    if (i==0) {
        ab.set([i,i+1], c1);
    } else if (i==n-1) {
        ab.set([i,i-1], c1);
    } else {
        ab.set([i, i-1], c1);
        ab.set([i, i+1], c1);
    }
}

x = math.lusolve(ab,b);
console.log(x);
write_line(x);



</script>
