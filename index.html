<p id="paragraph"></p>

<script type="text/javascript"
src="./math.js"></script>
<script>


function write_line(data) {
    var h1 = document.createElement("div");
    h1.setAttribute('style', 'white-space: pre;');
    h1.textContent += data + "\r\n";
    document.body.appendChild(h1);
}


var m = math.sparse([[1, 2], [3, 4]]);
console.log(m.size());                        // Array [2, 2]
console.log(m.resize([3, 2], 5));
console.log(m.valueOf());                     // Array [[1, 2], [3, 4], [5, 5]]
console.log(m.get([1, 0]));                    // number 3
console.log(m.get([1,0]));

write_line( "Hello, World " + m.get([1,1]));
write_line( "sdfasdf " + m.get([1,1]));

A = 201e-6;
E = 1.4e11;
slen = 0.1;
Kbond = 8;
Sbond = 2.8e5;
n = 10;
Yield = 180e3;
Rupture = 0.2;
ds = 1e7;
dy = 62.8e3;
dr = 0.41;
theta = 40.0;
disp = 4e-3;

c1 = E*A/slen
c2 = Kbond*slen
c3 = Sbond*slen
c2i = math.multiply(math.ones(n), c2); console.log(c2i);
ab = math.zeros([n,n]); console.log(ab);
b = math.zeros(n);  console.log(b);

db0 = 0.0;
db1 = disp;


for(i = 0; i < n; i++) {
    if (i>Math.floor(n/2-1)) {
        b[i] = -db1*c2i.get([i]);
    } else {
        b[i] = 0;
    }

    if (i==0) {
        ab.set([0,0], 0.0);
        ab.set([1,0], -c1-c2i.get([i]));
        ab.set([2,0], c1);
    } else if (i == n-1) {
        ab.set([0,i], c1);
        ab.set([1,i], -c1-c2i.get([i]));
        ab.set([2,i], 0.0);
    } else {
        ab.set([0,n], c1);
        ab.set([1,n], -c1-c2i.get([i]));
        ab.set([2,n], c1);
    }

//             if i==0:
//                 self.ab[0][0] = 0
//                 self.ab[1][0] = -self.c1-self.c2i[i]
//                 self.ab[2][0] = self.c1
//             elif i==(self.n-1):
//                 self.ab[0][i] = self.c1
//                 self.ab[1][i] = -self.c1-self.c2i[i]
//                 self.ab[2][i] = 0
//             else:
//                 self.ab[0][i] = self.c1
//                 self.ab[1][i] = -2*self.c1-self.c2i[i]
//                 self.ab[2][i] = self.c1
//         return solve_banded((1,1),self.ab,self.b)


}

//         for i in range(self.n):
//             if i>int(self.n/2-1):
//                 self.b[i] = -_db1*self.c2i[i]
//             else:
//                 self.b[i] = -_db0*self.c2i[i]
//             if self.grout_slip[i]:
//                 if i>int(self.n/2-1):
//                     self.b[i] = -self.c3
//                 else:
//                     self.b[i] = self.c3
//             if i==0:
//                 self.ab[0][0] = 0
//                 self.ab[1][0] = -self.c1-self.c2i[i]
//                 self.ab[2][0] = self.c1
//             elif i==(self.n-1):
//                 self.ab[0][i] = self.c1
//                 self.ab[1][i] = -self.c1-self.c2i[i]
//                 self.ab[2][i] = 0
//             else:
//                 self.ab[0][i] = self.c1
//                 self.ab[1][i] = -2*self.c1-self.c2i[i]
//                 self.ab[2][i] = self.c1
//         return solve_banded((1,1),self.ab,self.b)


</script>
